---
sidebar_position: 11
---

# Type Conversion

This page discusses how FirelordJS transforms your types for various uses internally.

Type transformation is needed because read, write and compare operation require or output different data types.

## Conversion Table

| Base                | Read              | Write                                        | Compare               |
| ------------------- | ----------------- | -------------------------------------------- | --------------------- |
| `number`            | `number`          | `number` \| `Increment`                      | `number`              |
| `numeric literal`   | `numeric literal` | `numeric literal`                            | `numeric literal`     |
| `string`            | `string`          | `string`                                     | `string`              |
| `string literal`    | `string literal`  | `string literal`                             | `string literal`      |
| `null`              | `null`            | `null`                                       | `null`                |
| `Timestamp`\|`Date` | `Timestamp`       | `Timestamp` \| `Date`                        | `Timestamp` \| `Date` |
| `ServerTimestamp`   | `Timestamp`       | `ServerTimestamp`                            | `Timestamp` \| `Date` |
| `GeoPoint`          | `GeoPoint`        | `GeoPoint`                                   | `GeoPoint`            |
| `T[]`               | `T[]`             | `T[]` \| `ArrayRemove<T>` \| `ArrayUnion<T>` | `T[]`                 |
| `Bytes`             | `Bytes`           | `Bytes`                                      | `Bytes`               |

Internally, FirelordJS converts your type into 3 main types for different purpose:

- Read type for `getDoc`, `getDocs`, `onSnapshot` and etc.
- Write type for `setDoc`, `updateDoc`, `addDoc`(client), `createDoc`(admin) and etc.
- Compare type for `where`, `orderBy` and etc.

The main types are further transformed for even more specific use cases internally.

Key Points:

- FirelordJS forbids you from increment `numeric literal` type, eg: if the type is `1 | 100 | 1000` then we should not be able to increment it from `1` to `2`.

- FirelordJS forbids you from writing `Date` or `Timestamp` into `ServerTimestamp`, because some date time has to be server timestamp, such as `createdAt` and `updatedAt`. However if this is your intention, you can by union `ServerTimestamp` with `Date` and `Timestamp`.

- We can always compare `Date` or `Timestamp` to `ServerTimestamp`.
