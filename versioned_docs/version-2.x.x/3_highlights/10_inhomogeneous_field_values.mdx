---
sidebar_position: 10
---

# Inhomogeneous Field Values

This page discusses how FirelordJS tackles the homogeneous `FieldValue` types.

## Conversion Table

There are 5 field values in Firestore:

1. increment
2. serverTimestamp
3. arrayRemove
4. arrayUnion
5. deleteField

And they all sharing the same type: `FieldValue`, which means is it possible to assign any field value to any field value, and this is obviously a big pain in the ass.

FirelordJS solves this by assigning [unique symbol type](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol):

| Field Value                   | Interface               | Signature                                                                 | Note                     | Assignable |
| ----------------------------- | ----------------------- | ------------------------------------------------------------------------- | ------------------------ | ---------- |
| `serverTimestamp`             | `ServerTimestamp`       | `{ 'Firelord.FieldValue': unique symbol }`                                |                          | Yes        |
| `increment`                   | `Increment`             | `{ 'Firelord.FieldValue': unique symbol }`                                | auto union with `number` | No         |
| `arrayRemove` \| `arrayUnion` | `ArrayUnionOrRemove<T>` | `{ 'Firelord.FieldValue': unique symbol, 'Firelord.ArrayFieldValue': T }` | auto union with `T[]`    | No         |

Do note that they are concrete types, it is possible to access `Firelord.FieldValue` and `Firelord.ArrayFieldValue` value in run time.

## UnassignAble Field Values

`ArrayUnionOrRemove<T>` and `Increment` are not assignable types and are not exported, they are passive types that automatically union with other types.

## Special Field Value

| Field Value | Interface                                                                 | Note                                                    | Assignable |
| ----------- | ------------------------------------------------------------------------- | ------------------------------------------------------- | ---------- |
| `delete`    | [`DeleteField`](../4_guides/3_delete_field.mdx)                           | allow a field to be read as undefiend and deletable     | Yes        |
| none        | [`PossiblyReadAsUndefined`](../4_guides/5_possibly_read_as_undefined.mdx) | allow a field to be read as undefiend, no runtime value | Yes        |

Special types serve as utility, eg: transform a field type or allow you to perform certain action on a field.
